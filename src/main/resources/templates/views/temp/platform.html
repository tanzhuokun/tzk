<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>项目健康监控系统</title>
<link rel="stylesheet" href="/zui/dist/css/zui.min.css">
<link rel="stylesheet" href="/zui/dist/css/doc.min.css">
<link rel="stylesheet" href="/mescroll-master/dist/mescroll.css">
<link rel="stylesheet" href="/layui/css/layui.css" media="all">
<link rel="stylesheet" href="/css/app.css" />
<link rel="stylesheet"
	href="/adminLTE/bower_components/bootstrap/dist/css/bootstrap.min.css">
<!-- Font Awesome -->
<link rel="stylesheet"
	href="/adminLTE/bower_components/font-awesome/css/font-awesome.min.css">
<!-- Ionicons -->
<link rel="stylesheet"
	href="/adminLTE/bower_components/Ionicons/css/ionicons.min.css">
<!-- Theme style -->
<link rel="stylesheet" href="/adminLTE/dist/css/AdminLTE.min.css">
<!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
<link rel="stylesheet"
	href="/adminLTE/dist/css/skins/_all-skins.min.css">
<!-- Morris chart -->
<link rel="stylesheet"
	href="/adminLTE/bower_components/morris.js/morris.css">
<!-- jvectormap -->
<link rel="stylesheet"
	href="/adminLTE/bower_components/jvectormap/jquery-jvectormap.css">
<!-- Date Picker -->
<link rel="stylesheet"
	href="/adminLTE/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
<!-- Daterange picker -->
<link rel="stylesheet"
	href="/adminLTE/bower_components/bootstrap-daterangepicker/daterangepicker.css">
<!-- bootstrap wysihtml5 - text editor -->
<link rel="stylesheet"
	href="/adminLTE/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">

<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">

<script type="text/javascript" src="/jquery-3.3.1/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="/zui/dist/js/zui.min.js"></script>
<script type="text/javascript" src="/vue/vue.js"></script>
<script type="text/javascript" src="/layui/layui.js"></script>
<script type="text/javascript" src="/mescroll-master/dist/mescroll.js"></script>
<script type="text/javascript" src="/echartsjs/echarts.min.js"></script>

<!-- jQuery 3 -->
<script src="/adminLTE/bower_components/jquery/dist/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="/adminLTE/bower_components/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
	$.widget.bridge('uibutton', $.ui.button);
</script>
<!-- Bootstrap 3.3.7 -->
<script
	src="/adminLTE/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- Morris.js charts -->
<script src="/adminLTE/bower_components/raphael/raphael.min.js"></script>
<script src="/adminLTE/bower_components/morris.js/morris.min.js"></script>
<!-- Sparkline -->
<script
	src="/adminLTE/bower_components/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
<!-- jvectormap -->
<script
	src="/adminLTE/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script
	src="/adminLTE/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- jQuery Knob Chart -->
<script
	src="/adminLTE/bower_components/jquery-knob/dist/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="/adminLTE/bower_components/moment/min/moment.min.js"></script>
<script
	src="/adminLTE/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- datepicker -->
<script
	src="/adminLTE/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- Bootstrap WYSIHTML5 -->
<script
	src="/adminLTE/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
<!-- Slimscroll -->
<script
	src="/adminLTE/bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<!-- FastClick -->
<script src="/adminLTE/bower_components/fastclick/lib/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="/adminLTE/dist/js/adminlte.min.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="/adminLTE/dist/js/pages/dashboard.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="/adminLTE/dist/js/demo.js"></script>
<style type="text/css">
#main>div{
width: 100%!important;
}
.layui-form{
width: 82%!important;
}
</style>
</head>
<body style="background-color: #f2edf3;">

	<!-- 标题 -->
	<div class="ms-header">
		<div class="c-view">
			<a href="index1"> <span class="logo white font24 lineh80">项目健康监控系统</span>
			</a>
			<div class="nav fr">
				<!-- <a href="index">首页</a> -->
				<a href="platform">首页</a> <a href="log">日志记录</a> <a href="excption">服务器状态</a>
				<!-- <a class="active" href="#">精准数据</a> -->
				<a href="setting"> <i class="icon icon-2x icon-spin icon-cog"></i>
				</a> <a href="note"> <i class="icon icon-2x icon-envelope"></i>
				</a>
			</div>
		</div>
	</div>
	<!-- 标题结束 -->

	<!-- <div class="function-Introduction" style="margin-bottom: 50px; margin-top: 50px;">
		<span>日志统览</span>
	</div> -->

	<!-- 分区提示 -->
	<div class="row" style="margin: 150px 50px auto;">
		<div class="col-lg-3 col-xs-6">
			<!-- small box -->
			<div class="small-box bg-aqua">
				<div class="inner" style="margin-left: 10px;">
					<h3>
						<font style="vertical-align: inherit;"><font
							style="vertical-align: inherit;"> 15 </font></font>
					</h3>
					<p>
						<font style="vertical-align: inherit;"><font
							style="vertical-align: inherit;"> 新提醒 </font></font>
					</p>
				</div>
				<div class="icon">
					<i class="fa fa-inbox"
						style="margin-top: 15px; margin-right: 10px;"></i>
				</div>
				<a href="#" class="small-box-footer"><font
					style="vertical-align: inherit;"><font
						style="vertical-align: inherit;"> 更多信息 </font></font><i
					class="fa fa-arrow-circle-right"></i> </a>
			</div>
		</div>
		<!-- ./col -->
		<div class="col-lg-3 col-xs-6">
			<!-- small box -->
			<div class="small-box bg-green">
				<div class="inner" style="margin-left: 10px;">
					<h3>
						<font style="vertical-align: inherit;"><font
							style="vertical-align: inherit;"> 53 </font></font><sup
							style="font-size: 20px"><font
							style="vertical-align: inherit;"><font
								style="vertical-align: inherit;">％</font></font></sup>
					</h3>
					<p>
						<font style="vertical-align: inherit;"><font
							style="vertical-align: inherit;"> 内存使用率 </font></font>
					</p>
				</div>
				<div class="icon">
					<i class="ion ion-stats-bars"
						style="margin-top: 15px; margin-right: 10px;"></i>
				</div>
				<a href="#" class="small-box-footer"><font
					style="vertical-align: inherit;"><font
						style="vertical-align: inherit;"> 更多信息 </font></font><i
					class="fa fa-arrow-circle-right"></i> </a>
			</div>
		</div>
		<!-- ./col -->
		<div class="col-lg-3 col-xs-6" style="float: right;">
			<!-- small box -->
			<div class="small-box bg-yellow">
				<div class="inner" style="margin-left: 10px;">
					<h3>
						<font style="vertical-align: inherit;"><font
							style="vertical-align: inherit;"> 正常 </font></font>
					</h3>
					<p>
						<font style="vertical-align: inherit;"><font
							style="vertical-align: inherit;"> 平台运行情况 </font></font>
					</p>
				</div>
				<div class="icon">
					<i class="fa fa-desktop"
						style="margin-top: 15px; margin-right: 10px;"></i>
				</div>
				<a href="#" class="small-box-footer"><font
					style="vertical-align: inherit;"><font
						style="vertical-align: inherit;"> 更多信息 </font></font><i
					class="fa fa-arrow-circle-right"></i> </a>
			</div>
		</div>
		<!-- ./col -->
		<div class="col-lg-3 col-xs-6">
			<!-- small box -->
			<div class="small-box bg-red">
				<div class="inner" style="margin-left: 10px;">
					<h3>
						<font style="vertical-align: inherit;"><font
							style="vertical-align: inherit;"> 正常 </font></font>
					</h3>
					<p>
						<font style="vertical-align: inherit;"><font
							style="vertical-align: inherit;"> 服务器运行情况 </font></font>
					</p>
				</div>
				<div class="icon">
					<i class="fa fa-cloud"
						style="margin-top: 15px; margin-right: 10px;"></i>
				</div>
				<a href="#" class="small-box-footer"><font
					style="vertical-align: inherit;"><font
						style="vertical-align: inherit;"> 更多信息 </font></font><i
					class="fa fa-arrow-circle-right"></i> </a>
			</div>
		</div>
		<!-- ./col -->
	</div>
	<!-- 分区提示结束 -->

	<div
		style="width: 100%; height: 20px; background-color: #dd4b39; margin-top: 70px;"></div>
	
	<div class="clearfix" style="position: relative;height:600px;">
	<div
		style=" height: 50px; background-color: #fbfbfb; box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1); margin-bottom: 100px;">
		<div style="margin-top: 10px; position: absolute; margin-left: 50px;">
			<span style="font-size: 20px; font-weight: bold;">日志 <small
				style="font-size: 15px; display: inline-block; padding-left: 4px; font-weight: 300; color: #999;">统计记录</small>
			</span>
		</div>
	</div>

	<div
		style="width: 44%; height: 450px; background-color: #ffffff; border: 2px solid #c1c1c1; border-radius: 15px; border-top: 15px solid #f56954; float:left;margin-left: 60px;">
		<img alt="数据" src="/picture/数据3.png"
			style="width: 35px; margin-top: 20px; margin-left: 50px;"> <span
			style="font-size: 20px; font-weight: bold; margin-left: 10px; position: absolute; margin-top: 23px;">发生日志时间段统揽</span>
	</div>
	
	<div id="main"
		style="width: 42%; height: 350px; bottom:0px; margin-left: 70px;position: absolute;"></div>


	<script type="text/javascript">
		var myChart = echarts.init(document.getElementById('main'));
		$.get('/cgi-bin/num').done(
				function(option) {
					myChart.setOption({
						title : {
							text : '',
							subtext : '24小时'
						},
						tooltip : {
							trigger : 'axis'
						},
						legend : {
							data : [ '晚上12点至中午12点', '中午12点至晚上12点' ]
						},
						toolbox : {
							show : true,
							feature : {
								dataView : {
									show : true,
									readOnly : false
								},
								magicType : {
									show : true,
									type : [ 'line', 'bar' ]
								},
								restore : {
									show : true
								},
								saveAsImage : {
									show : true
								}
							}
						},
						calculable : true,
						xAxis : [ {
							data : [ '1点', '2点', '3点', '4点', '5点', '6点', '7点',
									'8点', '9点', '10点', '11点', '12点' ]
						} ],
						yAxis : [ {
							type : 'value'
						} ],
						series : [ {
							name : '晚上12点至中午12点',
							type : 'bar',
							data : option.slice(0, 12),
							markPoint : {
								data : [ {
									type : 'max',
									name : '最大值'
								}, {
									type : 'min',
									name : '最小值'
								} ]
							},
							markLine : {
								data : [ {
									type : 'average',
									name : '平均值'
								} ]
							}
						}, {
							name : '中午12点至晚上12点',
							type : 'bar',
							data : option.slice(12, 23),
							markPoint : {
								data : [ {
									type : 'max',
									name : '最大值'
								}, {
									type : 'min',
									name : '最小值'
								} ]
							},
							markLine : {
								data : [ {
									type : 'average',
									name : '平均值'
								} ]
							}
						} ]
					});
				});
		
	</script>

	<div
		style="width: 42%; height: 450px; background-color: #ffffff; border: 2px solid #c1c1c1; border-radius: 15px; border-top: 15Px solid #3c8dbc; margin-right: 70px; float:right;">
		<img alt="" src="/picture/数据2.png"
			style="width: 35px; margin-top: 20px; margin-left: 50px;"> <span
			style="font-size: 20px; font-weight: bold; margin-left: 10px; position: absolute; margin-top: 23px;">发生日志时间段统揽</span>
	</div>

	<div id="main-1"
		style="width: 33%; height: 350px; float:right; bottom:360px;margin-right: 125px"></div>
		
		</div>
	<script type="text/javascript">
		myChart1 = echarts.init(document.getElementById('main-1'));
		$.get('/cgi-bin/countLogLevel').done(function(data) {
			myChart1.setOption({
				title : {
					text : '日志级别占比统计',
					/* subtext: '', */
					x : 'center'
				},
				tooltip : {
					trigger : 'item',
					formatter : "{a} <br/>{b} : {c} ({d}%)"
				},
				legend : {
					orient : 'vertical',
					left : 'left',
					data : [ 'ERROR', 'WARN', 'INFO', 'DEBUG' ]
				},
				series : [ {
					name : '数据来源',
					type : 'pie',
					radius : '55%',
					center : [ '50%', '60%' ],
					data : [ {
						value : data.slice(0, 1),
						name : 'ERROR'
					}, {
						value : data.slice(1, 2),
						name : 'WARN'
					}, {
						value : data.slice(2, 3),
						name : 'INFO'
					}, {
						value : data.slice(3, 4),
						name : 'DEBUG'
					} ],
					itemStyle : {
						emphasis : {
							shadowBlur : 10,
							shadowOffsetX : 0,
							shadowColor : 'rgba(0, 0, 0, 0.5)'
						}
					}
				} ]
			})
		});
	</script>

	<div
		style="width: 100%; height: 20px; background-color: #f39c12; margin-top: 100px;"></div>

	<div
		style="width: 100%; height: 50px; background-color: #fbfbfb; box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1); margin-bottom: 50px;">
		<div style="margin-top: 10px; position: absolute; margin-left: 50px;">
			<span style="font-size: 20px; font-weight: bold;">服务器 <small
				style="font-size: 15px; display: inline-block; padding-left: 4px; font-weight: 300; color: #999;">统计记录</small>
			</span>
		</div>
	</div>
<div class="clearfix" style="position: relative;">

	<div class="box-1"
		style="width: 60%; height: 500px; background-color: #FFFFFF; margin-left: 40px;; border-radius: 15px; border-color: #909090;float:left;margin-top: -60px">
		<img alt="" src="/picture/服务器2.png"
			style="width: 35px; margin-top: 20px; margin-left: 50px;"> <span
			style="font-size: 20px; font-weight: bold; margin-left: 10px; position: absolute; margin-top: 23px;">服务器使用率</span>
	</div>

	<div style="margin-left: 100px;width:62%; position: absolute;bottom: 100px;">
		<table class="layui-hide" id="demo-3"></table>
	</div>

	<div  style="margin-right: 40px; float: right;width:30%;margin-bottom: 90px;">
		<div class="info-box bg-yellow">
			<span class="info-box-icon"><i class="fa fa-save"></i></span>

			<div class="info-box-content">
				<span class="info-box-text">内存使用率</span> <span
					class="info-box-number">50%</span>

				<div class="progress">
					<div class="progress-bar" style="width: 50%"></div>
				</div>
				<span class="progress-description"> 最新的使用量 </span>
			</div>
			<!-- /.info-box-content -->
		</div>
		<div class="info-box bg-green">
			<span class="info-box-icon"><i class="fa fa-hdd-o"></i></span>

			<div class="info-box-content">
				<span class="info-box-text">硬盘使用率</span> <span
					class="info-box-number">30%</span>

				<div class="progress">
					<div class="progress-bar" style="width: 30%"></div>
				</div>
				<span class="progress-description"> 最新的使用量 </span>
			</div>

		</div>
		<div class="info-box bg-red">
			<span class="info-box-icon"><i class="fa  fa-tasks"></i></span>

			<div class="info-box-content">
				<span class="info-box-text">CPU使用率</span> <span
					class="info-box-number">40%</span>

				<div class="progress">
					<div class="progress-bar" style="width: 40%"></div>
				</div>
				<span class="progress-description"> 最新的使用量 </span>
			</div>
			<!-- /.info-box-content -->
		</div>
		<div class="info-box bg-aqua">
			<span class="info-box-icon"><i class="fa fa-line-chart"></i></span>

			<div class="info-box-content">
				<span class="info-box-text">运行速率</span> <span
					class="info-box-number">80%</span>

				<div class="progress">
					<div class="progress-bar" style="width: 80%"></div>
				</div>
				<span class="progress-description"> 最新的使用量 </span>
			</div>
			<!-- /.info-box-content -->
		</div>

	</div>
	</div>
	<div class="footer"
		style="height: 50px; background-color: #2c2c32; margin-top: 40px;">
		<p
			style="color: white; text-align: center; line-height: 50px; margin: 0;">云南农业大学电子信息工程系&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;谭卓昆、王顺通团队制作</p>
	</div>
	<script>
		layui.use('table', function() {
			var table = layui.table;

			//展示已知数据
			table.render({
				elem : '#demo-3',
				url : '/cgi-bin/serverAll',
				cols : [ [ //标题栏
				{
					field : 'serverName',
					title : '服务器名称',
					width : 124,
					align : 'center',
					sort : true
				}, {
					field : 'subTime',
					title : '时间',
					align : 'center',
					width : 180
				}, {
					field : 'ram',
					title : '内存使用率',
					align : 'center',
					minWidth : 100
				}, {
					field : 'hdd',
					title : '硬盘使用率',
					align : 'center',
					width : 100
				}, {
					field : 'cpu',
					title : 'CPU使用率',
					align : 'center',
					minWidth : 100
				}, {
					field : 'rate',
					title : '运行速率',
					align : 'center',
					minWidth : 100
				} ] ],
				skin : 'row' //表格风格
				,
				even : true,
				page : true //是否显示分页
				//,limits: [5, 7, 10]
				,
				limit : 30
				//每页默认显示的数量
				,
				width : 710
			});
		});
	</script>



</body>
</html>